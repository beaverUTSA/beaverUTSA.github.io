<style>
p{
  white-space: pre-wrap;
}
.content {
  max-width: 500px;
  margin: auto;
}
pre code {
  background-color: #eee;
  border: 1px solid #999;
  display: block;
  padding: 20px;
}
</style>
<div class="content">
  <h1>Hello!</h1>
  <h1>Question 1</h1>
  <p>
	  Question 1:
Given a table that holds websites (WEBSITE_ID, Name, URL), website pages (PAGE_ID, WEBSITE_ID, path), and website vulnerabilities (VULN_ID, PAGE_ID, data), find all of the vulnerabilities on website foo.com that pertain to the login page login.html. Your SQL should be performant for larger data sets.


Table websites:
WEBSITE_ID, Name, URL
1. foo, http://foo.com
2. bar, http://foo.com <strong>should it be http://bar.com?</strong>

Table pages:
PAGE_ID, WEBSITE_ID, path
1, 1, /login.html
2, 1, /logout.html
3, 1, /admin.html
4, 2, /login.html
5, 2, /logout.html
6, 2, /admin.html

Table vulnerabilities
VULN_ID, PAGE_ID, data
1, 1, SQL injection response blah
2, 1, XXE response
3, 1, Stored XSS response
4, 2, Session hijack
5, 4, XXE response
6, 6, Default credentials resposne

Input:
All vulnerabilities for foo.com on login.html page
Output:
1, 1, SQL injection response blah
2, 1, XXE response
3, 1, Stored XSS response
  </p>
  <pre>
    <code>
    SELECT VULN_ID, PAGE_ID, data
    FROM vulnerabilities
    WHERE PAGE_ID IN (
    	SELECT PAGE_ID 
	FROM pages 
        WHERE WEBSITE_ID IN (
		SELECT WEBSITE_ID 
       		FROM websites 
		WHERE Name = "foo") 
	AND path LIKE '%login%');
    </code>
  </pre>
  <p>
	  How do we make this performant when we have 10 billion unique vulnerabilities across hundreds of thousands of websites?
	  <strong>    I would recommend to make a unique key from the websites and pages tables and add that to a column in the vulnerabilities table
	  So given a website and page, that could be on its own table or calculated before hitting the database.
	  The downside to this speedup would be the maintenace needed on those tables, like what if a new page is added or new vulnerabilites are found?
	  And what if the name of the website changes? The lookup tables would need to be updated to be accurate.
	  </strong>
  </p>
  
  <h1>Question 2</h1>
  <p>
  </p>
</div>
